@page
@model Library.Pages.RealTimeChatModel
@{
}

<div class="container">
    <div>
        <label>Tên: </label>
        <input type="text" id="name" />
    </div>

    <div class="mt-5">
        <input type="text" id="message" />
        <input type="button" id="sendmessage" value="Gửi" />

    </div>

    <div class="mt-3">
        <ul id="discussion"></ul>
    </div>
</div>

  @* <script src="https://cdn.jsdelivr.net/npm/@microsoft/signalr@6.0.0/dist/cjs/index.min.js"></script> *@

<script>
    var li = document.createElement("li");
    li.textContent = "qusdasdasd";
    document.getElementById("discussion").appendChild(li);
    // var connection = new signalR.HubConnectionBuilder().withUrl("/chat").build();
    // connection.start().catch(function (err)){
    //     return console.error(err.toString());
    // }
    // document.getElementById("sendmessage").addEventListener("click", function (event) {
    //     var user = document.getElementById("name").value;
    //     var message = document.getElementById("message").value;

    //     connection.invoke("SendMessage", user, message).catch(function (err)){
    //         return console.error(err.toString());
    //     }

    //     event.preventDefault();
    // });

    // connection.on("ReceiveMessage", function (user, message) {
    //     var encodedMsg = user + ":" + message;
    //     var li = document.createElement("li");
    //     li.textContent = encodedMsg;

    //     document.getElementById("discussion").appendChild(li);
    // })

</script>
